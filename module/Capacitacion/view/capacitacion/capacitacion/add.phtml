<div class="container-fluid py-3">
  <div class="card shadow-sm">
    <div class="card-header d-flex justify-content-between align-items-center">
      <span>Nueva capacitaci√≥n</span>
      <a class="btn btn-sm btn-outline-secondary" href="<?= $this->url('capacitacion-admin/cap', ['action'=>'index']) ?>">Volver</a>
    </div>
    <div class="card-body">
      <?php $form->prepare(); ?>
      <?= $this->form()->openTag($form) ?>

      <div class="form-group">
        <label><?= $form->get('title')->getLabel() ?></label>
        <?= $this->formElement($form->get('title')) ?>
      </div>

      <div class="form-group">
        <label><?= $form->get('alias')->getLabel() ?></label>
        <?= $this->formElement($form->get('alias')) ?>
        <small class="form-text text-muted">Se usa para URL friendly.</small>
      </div>

      <div class="form-group">
        <label><?= $form->get('description')->getLabel() ?></label>
        <?= $this->formElement($form->get('description')) ?>
      </div>

      <div class="form-row">
        <div class="form-group col-md-3">
          <label><?= $form->get('media_type')->getLabel() ?></label>
          <?= $this->formSelect($form->get('media_type')) ?>
        </div>
        <div class="form-group col-md-9">
          <label><?= $form->get('media_url')->getLabel() ?></label>
          <?= $this->formElement($form->get('media_url')) ?>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-8">
          <label><?= $form->get('thumbnail')->getLabel() ?></label>
          <?= $this->formElement($form->get('thumbnail')) ?>
        </div>
        <div class="form-group col-md-4">
          <label><?= $form->get('expires_at')->getLabel() ?></label>
          <?= $this->formElement($form->get('expires_at')) ?>
        </div>
      </div>

      <div class="custom-control custom-switch mb-3">
        <?= $this->formElement($form->get('published')->setAttribute('id','cap_published')) ?>
        <label class="custom-control-label" for="cap_published">Publicado</label>
      </div>

      <?= $this->formSubmit($form->get('submit')) ?>

      <?= $this->form()->closeTag() ?>
    </div>
  </div>
</div>

<script>
(function($){
  function syncMediaType(){
    var t = $('#media_type').val();
    $('.js-media-file').toggle(t === 'image' || t === 'pdf');
    $('.js-media-url').toggle(t === 'video');
  }
  $(function(){
    $('#media_type').on('change', syncMediaType);
    syncMediaType();
  });
})(window.jQuery);
</script>
