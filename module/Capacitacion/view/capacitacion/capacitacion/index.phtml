<div class="container-fluid py-3">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h4 m-0">Capacitaciones</h1>
    <a class="btn btn-primary" href="<?= $this->url('capacitacion-admin/cap', ['action'=>'add']) ?>">
      <i class="fa fa-plus"></i> Nueva
    </a>
  </div>

  <div class="card shadow-sm">
    <div class="card-body p-0">
      <table class="table table-hover table-sm mb-0">
        <thead class="thead-light">
          <tr>
            <th style="width:70px;">ID</th>
            <th>Título</th>
            <th>Alias</th>
            <th style="width:110px;">Publicado</th>
            <th class="text-right" style="width:260px;">Acciones</th>
          </tr>
        </thead>
        <tbody>
        <?php foreach (($rows ?? []) as $r): ?>
          <tr>
            <td><?= (int)$r['id'] ?></td>
            <td><?= $this->escapeHtml($r['title'] ?? '') ?></td>
            <td class="text-muted"><?= $this->escapeHtml($r['alias'] ?? '') ?></td>
            <td><?= ((int)($r['published'] ?? 0) === 1) ? '<span class="badge badge-success">Sí</span>' : '<span class="badge badge-secondary">No</span>' ?></td>
            <td class="text-right">
              <a class="btn btn-sm btn-outline-dark" href="<?= $this->url('capacitacion-admin/builder', ['id'=>(int)$r['id']]) ?>">Builder</a>
              <a class="btn btn-sm btn-outline-primary" href="<?= $this->url('capacitacion-admin/cap', ['action'=>'edit','id'=>(int)$r['id']]) ?>">Editar</a>
              <a class="btn btn-sm btn-outline-danger" onclick="return confirm('¿Eliminar?')" href="<?= $this->url('capacitacion-admin/cap', ['action'=>'delete','id'=>(int)$r['id']]) ?>">Borrar</a>
            </td>
          </tr>
        <?php endforeach; ?>
        </tbody>
      </table>
    </div>
  </div>
</div>
